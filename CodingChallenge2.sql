Create database MitchellCrozierCC2;
use MitchellCrozierCC2

create table Products (
	ProductId int not null,
	[Name] nvarchar(200),
	Price int,
	primary key (ProductId)
	);
insert into Products
values (1, 'Shamwow', 5);
insert into Products
values (2, 'Oxi-clean', 3);
insert into Products
values (3, 'E', 666);
insert into Products
values (4, 'iPhone', 200);

create table Customers (
	CustomerId int not null,
	Firstname nvarchar(200),
	Lastname nvarchar(200),
	CardNumber int,
	primary key(CustomerId)	
	);
insert into Customers
values (1, 'Billy', 'Joel', 597);
insert into Customers
values (2, 'Kanye', 'West', 666);
insert into Customers
values (3, 'Kurt', 'Cobaine', 999);
--Tina Smith
insert into Customers
values (4, 'Tina', 'Smith', 699);


create table Orders (
	OrderId int not null,
	ProductId int not null,
	CustomerId int not null
	foreign key (ProductId) references Products(ProductId),
	foreign key (CustomerId) references Customers(CustomerId)
	);
insert into Orders
values (1, 1, 2);
insert into Orders
values (2, 3, 1);
insert into Orders
values (3, 3, 2);
--Tina bought an iphone
insert into Orders
values (4, 4, 4);
--Billy buys an iphone as well
insert into Orders
values (5, 4, 1);

--get Tinas order
select *
from Orders o, Customers c
where o.CustomerId = c.CustomerId
 and c.Firstname = 'Tina'
 and c.Lastname = 'Smith';

 --Show all revenue generated by iphone
select Sum(p.Price)
from Orders o, Products p
where p.Name = 'iPhone' and p.ProductId = o.ProductId;

--Change iphone to 250
update Products
set Price = 250
where ProductId = 4;




